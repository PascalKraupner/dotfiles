env = EDITOR,nvim

env = XCURSOR_SIZE,24
env = XDG_CURRENT_DESKTOP,Hyprland
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_STYLE_OVERRIDE,Adwaita-Dark

source=~/.config/hypr/frappe.conf

source=~/.config/hypr/autostart.conf

general {
  col.active_border = $red
  col.inactive_border = $surface0
  layout = dwindle
}

dwindle {
  preserve_split = true
}

decoration {
rounding = 5
  blur {
    enabled = true
    size = 2
    passes = 4
  }
}

device {
  name = at-translated-set-2-keyboard
  kb_options = caps:swapescape
}

input {
	kb_layout = eu #us layout but with alt gr and letter, you get umlaut
    touchpad {
        natural_scroll = yes
    }

}

$edp1_config = eDP-1,preferred,auto,auto
$browser = brave
$mail = proton-mail
$ai_provider = Claude
$ai_url = https://claude.ai

source=~/.config/hypr/work-laptop.conf

monitor = DP-4,preferred,auto,2
monitor = $edp1_config
#monitor = eDP-1,2880x1920@60.00Hz,auto,2
#Monitor configuration reference:
# Format: monitor=<name>,<resolution>,<position>,<scale>
# - <name>: The name of the monitor/output (e.g., eDP-1 for the laptop screen)
# - <resolution>: 
#     • "1920x1080" to manually set resolution  
#     • "preferred" to automatically use the monitor's preferred/native resolution
# - <position>: 
#     • "0x0" to place the monitor at the top-left of the virtual layout  
#     • "auto" to let Hyprland decide the best position
# - <scale>: Scale factor for monitor, e.g., 1 is normal, 2 is double-size

$mainMod = SUPER
$terminal = ghostty
$menu = menu
$fileManager = ghostty -e yazi

bind = $mainMod, RETURN, exec, $terminal
bind = $mainMod SHIFT, Q, exit,
bind = $mainMod, Q, killactive, 
bind = $mainMod, SPACE, exec, $menu

bind = $mainMod, W, exec, pkill waybar; waybar
bind = $mainMod, F, togglefloating, 

bind = $mainMod SHIFT, F, fullscreen,k
bind = $mainMod, S, togglesplit, 

# Preselect mode - Alt+P to enter, ESC/Caps to exit
bind = ALT, P, submap, P

submap = P

bind = , h, layoutmsg, preselect l
bind = , j, layoutmsg, preselect d
bind = , k, layoutmsg, preselect u
bind = , l, layoutmsg, preselect r

bind = , caps_lock, submap, reset
bind = , escape, submap, reset

submap = reset

# Resize mode - Alt+R to enter, ESC/Caps to exit
bind = ALT, R, submap, R

submap = R

binde = , h, resizeactive, -30 0
binde = , l, resizeactive, 30 0
binde = , k, resizeactive, 0 -30
binde = , j, resizeactive, 0 30

bind = , caps_lock, submap, reset
bind = , escape, submap, reset

submap = reset

bind = $mainMod SHIFT, W, exec, hyprshot -m window
bind = $mainMod SHIFT, R, exec, hyprshot -m region 

bind = $mainMod , O, exec, hyprctl dispatcher dpms on eDP-1 ; brightnessctl -d 'chromeos::kbd_backlight' set 100
bind = $mainMod SHIFT, O, exec,hyprctl dispatch dpms off eDP-1 ; brightnessctl -d 'chromeos::kbd_backlight' set 0

bind = $mainMod SHIFT, S, exec, systemctl suspend

bind = $mainMod SHIFT, P, exec, ~/.local/bin/connect_to_airpods
bind = $mainMod, P, exec, ~/.local/bin/cycle_power_modes
bind = $mainMod, U, exec, ~/.local/bin/upgrade
bind = $mainMod SHIFT, slash, exec, ~/.local/bin/focus-launcher tui "keybindings" "glow -p ~/.local/share/chezmoi/KEYBINDINGS-AND-COMMANDS.md" float

bind = $mainMod, h, movefocus, l
bind = $mainMod, j, movefocus, d
bind = $mainMod, k, movefocus, u
bind = $mainMod, l, movefocus, r

bind = $mainMod SHIFT, h, movewindow, l
bind = $mainMod SHIFT, j, movewindow, d
bind = $mainMod SHIFT, k, movewindow, u
bind = $mainMod SHIFT, l, movewindow, r

workspace = name:browser, on-created-empty:$browser
workspace = name:term, on-created-empty:$terminal -e bash -c "tmux attach || tmux"
workspace = name:notes, on-created-empty:obsidian
workspace = name:email, on-created-empty:$mail
workspace = name:music, on-created-empty:spotify
workspace = name:files, on-created-empty:ghostty -e yazi
workspace = name:AI, on-created-empty:~/.local/bin/focus-launcher web $ai_provider $ai_url

bind = $mainMod, B, workspace, name:browser
bind = $mainMod, T, workspace, name:term
bind = $mainMod, N, workspace, name:notes
bind = $mainMod, E, workspace, name:email
bind = $mainMod, M, workspace, name:music
bind = $mainMod, Y, workspace, name:files
bind = $mainMod, A, workspace, name:AI

bind = $mainMod SHIFT, B, movetoworkspace, name:browser
bind = $mainMod SHIFT, T, movetoworkspace, name:term
bind = $mainMod SHIFT, N, movetoworkspace, name:notes
bind = $mainMod SHIFT, E, movetoworkspace, name:email
bind = $mainMod SHIFT, M, movetoworkspace, name:music
bind = $mainMod SHIFT, Y, movetoworkspace, name:files
bind = $mainMod SHIFT, A, movetoworkspace, name:AI

windowrule = workspace name:browser, match:class ^(brave-browser)$
windowrule = workspace name:notes, match:class ^(obsidian)$
windowrule = workspace name:email, match:class ^(Proton Mail|proton-mail|protonmail-bridge|thunderbird)$
windowrule = workspace name:music, match:class ^(Spotify)$
# yazi runs inside ghostty, so match on ghostty with yazi title
windowrule = workspace name:files, match:class ^(com.mitchellh.ghostty)$, match:title ^(yazi)$

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

bind = $mainMod, TAB,workspace, previous

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

binde =,XF86MonBrightnessUp, exec, swayosd-client --brightness raise
binde =,XF86MonBrightnessDown, exec, swayosd-client --brightness lower
bindel = ,XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindel = ,XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
bindel = ,XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindel = ,XF86AudioMicMute, exec, swayosd-client --input-volume mute-toggle

bindl = , XF86AudioNext, exec, swayosd-client --playerctl next
bindl = , XF86AudioPause, exec, swayosd-client --playerctl play-pause
bindl = , XF86AudioPlay, exec, swayosd-client --playerctl play-pause
bindl = , XF86AudioPrev, exec, swayosd-client --playerctl previous

bindl = , switch:on:Lid Switch, exec, ~/.local/bin/handle_lid_switch
bindl = , switch:off:Lid Switch, exec, hyprctl keyword monitor "$edp1_config"

# Floating TUI/Apps when matching tag
windowrule = float on, match:tag floating-window
windowrule = center on, match:tag floating-window
windowrule = size 1200 800, match:tag floating-window
windowrule = tag +floating-window, match:class ^(TUI\.float)$
windowrule = tag +floating-window, match:class ^brave-.*-Floating$

# Smart Gaps
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
windowrule = border_size 0, match:float 0, match:workspace w[tv1]
windowrule = rounding 0, match:float 0, match:workspace w[tv1]
windowrule = border_size 0, match:float 0, match:workspace f[1]
windowrule = rounding 0, match:float 0, match:workspace f[1]
